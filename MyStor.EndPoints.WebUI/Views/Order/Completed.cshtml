@model Order

@{
    ViewData["Title"] = "Completed";
}

<h2>Completed</h2>
<table>
    <tr>
        <td>OrderId</td>
        <td>@Model.OrderId</td>
    </tr>
    <tr>
        <td>Price</td>
        <td>@Model.lines.Sum(c => c.Product.Price)</td>
    </tr>
</table>

<form asp-controller="Payment" asp-action="RequestPayment" method="post">
    <input type="hidden" name="orderId" value="@Model.OrderId" />
    <input type="submit" value="Complete" />
</form>
